define ("theme_uofr_conservatory/toggle_course_availability",["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events"],function(a,b,c,d,e,f){var g,h,i,j={HEADER:"#page-header .header-body",HEADER_TOP:"#page-header .page-head",HDRMAKEAVAIL_BTN:"#avail_btn"},k=function(b,c,d){g=a(b);h=c;i=d},l=function(){g.on("click",j.HDRMAKEAVAIL_BTN,m)},m=function(){e.create({type:e.types.SAVE_CANCEL,title:"<b>Make this course "+(1==i?"un":"")+"available?</b>",body:"<p>Are you sure you want to make this course <b>"+(1==i?"un":"")+"available</b> to students?</b><br /><span class=\"small\">You can change the availability of this course as needed, when you're ready.</span></p>"}).then(function(a){a.setSaveButtonText("Yes, make it "+(1==i?"un":"")+"available");var b=a.getRoot();b.on(f.cancel,function(){});b.on(f.save,n);a.show()})},n=function(){if(!h){return}var a={courseid:h,availability:i},d={methodname:"theme_uofr_conservatory_toggle_course_availability",args:a,done:o,fail:c.exception};b.call([d])},o=function(){d.get_string("success:courseavailabilitychanged","theme_uofr_conservatory").done(p)},p=function(b){var c=a("<div></div>");c.text(b);c.prop("id","cstyle_success_popup");c.css({position:"absolute"});c.css({right:"5px"});c.css({bottom:"30px"});c.css({"z-index":"1200"});c.addClass("alert alert-success alert-dismissable fade show");var d=a("<button></button>");d.html("&times;");d.addClass("close");d.attr("type","button");d.attr("data-dismiss","alert");c.append(d);a(j.HEADER_TOP).append(c);var e=a("<div></div>");e.text("Loading");e.prop("id","cstyle_success_popup");e.css({position:"absolute"});e.css({right:"5px"});e.css({bottom:"30px"});e.css({"z-index":"1200"});e.addClass("alert alert-success alert-dismissable fade show");var f=a("<button></button>");f.html("&times;");f.addClass("close");f.attr("type","button");f.attr("data-dismiss","alert");e.append(f);setTimeout(function(){a("#cstyle_success_popup").fadeTo(500,0).slideUp(500,function(){a(this).remove();a(j.HEADER_TOP).append(e);location.reload(!0)})},1800)};return{init:function init(a,b,c){k(a,b,c);l()}}});
//# sourceMappingURL=toggle_course_availability.min.js.map
