{"version":3,"sources":["../src/course_enrolment.js"],"names":["define","$","ajax","notification","str","ModalFactory","ModalEvents","courseActionsLib","_root","_course","_element","_semester","_currentsem","_semesterdates","_categories","_templatelist","_homeurl","SELECTORS","HEADER","HEADER_TOP","BTN_COURSEENROL","BTN_ENROLTERM","STARTHOLDER","ENDHOLDER","STARTDAY","STARTMONTH","STARTYEAR","STARTHOUR","STARTMINUTE","ENDDAY","ENDMONTH","ENDYEAR","ENDHOUR","ENDMINUTE","ENDENABLE","ERR_START","ERR_END","TEMPLATES","MODAL_COURSE_ACTION_CONTENT","_setGlobals","root","course","semesterdates","categories","templatelist","homeurl","currentsem","id","coursename","shortname","startdate","enddate","_registerEventListeners","on","_getEnrolInfo","_registerSelectorEventListeners","bind","_setActiveTemplate","e","hasClass","removeClass","find","addClass","_registerDeleteButtons","_deleteConfirmation","attr","args","courseid","semester","promise","call","methodname","done","response","_populateModal","data","modaltitle","activatedlist","activatedtitle","isavailable","isavaliable","courseinfo","length","each","key","value","crn","subject","section","activated","linkedClass","linked","fullname","urid","pastSemester","create","type","types","CANCEL","title","body","then","modal","footer","prepend","show","SAVE_CANCEL","setSaveButtonText","getRoot","cancel","save","templateHolder","selectedTemplates","preventDefault","text","templateids","i","push","groupcheck","prop","_addEnrolmentDateConfirm","hidden","remove","nextyear","Date","getFullYear","newstart","getMonth","getDate","newend","formatednewstart","index","item","starttemp","split","endtemp","parseInt","d","toLocaleString","month","mon","mday","year","_addEnrolment","self","render","template","backdrop","keyboard","dismissible","validate","modaltemp","_closeDateConfirm","click","target","is","parent","hide","startdatefill","enddatefill","populateDateSelects","registerDateEventListeners","startday","val","startmonth","startyear","endyear","endday","endmonth","test","getTime","isoriginal","hours","minutes","starthour","startminute","endhour","endminute","crns","ajaxCall","fail","exception","info","result","location","reload","element","_deleteEnrollment","trigger","_semesterDateObject","temp","_getCurrentSem","current","cterm","start","end","init"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Responsible for:\n * creation of modals to change enrolment,\n * creation of date modal to update date for enrolment\n * performs ajax requests to enrol a banner section,\n * performs ajax requests to delete a banner enrolment\n * calls create and duplicate course library in event course has been used in a different semester\n *\n * @package    theme_urcourses_default\n * @author     Brooke Clary\n *\n */\n\ndefine(['jquery', 'core/ajax', 'core/notification', 'core/str',\n    'core/modal_factory', 'core/modal_events','theme_urcourses_default/course_actions'],\n    function($, ajax, notification, str, ModalFactory, ModalEvents,courseActionsLib) {\n\n    /** Container jquery object. */\n    var _root;\n    /** Course ID */\n    var _course;\n    var _element;\n    var _semester;\n    var _currentsem;\n    var _semesterdates;\n    var _categories;\n    var _templatelist;\n    var _homeurl;\n\n    /** Jquery selector strings. */\n    var SELECTORS = {\n        HEADER: '#page-header .header-body',\n        HEADER_TOP: \"#page-header .page-head\",\n        BTN_COURSEENROL: '#btn_courseenrol',\n        BTN_ENROLTERM: '.btn_enrolterm',\n        STARTHOLDER: '#course_tools_startholder',\n        ENDHOLDER: '#course_tools_endholder',\n        STARTDAY: '#course_tools_start_day',\n        STARTMONTH: '#course_tools_start_month',\n        STARTYEAR: '#course_tools_start_year',\n        STARTHOUR: '#course_tools_start_hour',\n        STARTMINUTE: '#course_tools_start_minute',\n        ENDDAY: '#course_tools_end_day',\n        ENDMONTH: '#course_tools_end_month',\n        ENDYEAR: '#course_tools_end_year',\n        ENDHOUR: '#course_tools_end_hour',\n        ENDMINUTE: '#course_tools_end_minute',\n        ENDENABLE: '#course_tools_enddate_enabled',\n        ERR_START: '#error_course_tools_start',\n        ERR_END: '#error_course_tools_end',\n    };\n    const TEMPLATES = {\n        MODAL_COURSE_ACTION_CONTENT: 'theme_urcourses_default/modal_course_action_date'\n    };\n\n    /**\n     * Initializes global variables.\n     * @param {string} root - Jquery selector for container.\n     * @param {int} headerstyle - selected header style.\n     * @param {int} courseid - ID of current course.\n     * @return void\n     */\n    var _setGlobals = function(root, course,semesterdates,categories,templatelist,homeurl, currentsem) {\n       _root = $(root);\n       _course = course;\n       _semesterdates = semesterdates;\n       _currentsem = currentsem;\n       _categories = categories;\n       _templatelist = templatelist;\n       _homeurl = homeurl;\n\n       //constructor for current course, incase of duplication, creation, or date modals being needed\n       courseActionsLib = new courseActionsLib(\n        _course.id,\n        _course.coursename,\n        _course.shortname,\n        _course.startdate,\n        _course.enddate,\n        _templatelist,\n        _categories);\n    };\n\n    /**\n     * Sets up event listeners.\n     * @return void\n     */\n    var _registerEventListeners = function() {\n        _root.on('click', SELECTORS.BTN_ENROLTERM, _getEnrolInfo);\n    };\n     /**\n     * Sets up event listeners.\n     * @return void\n     */\n    var _registerSelectorEventListeners = function() {\n        //set event listners for template options\n        $('.tmpl-label').bind('click', function() { _setActiveTemplate($(this)); } );\n    };\n    /**\n    * Switch choosen template based on click in template list\n    */\n   var _setActiveTemplate = function(e) {\n\n        //on click check if already active\n        if(e.hasClass(\"active\")){\n            //remove active class\n            e.removeClass(\"active\");\n            //and uncheck checkbox\n            e.find(\".fa-check-square-o\").addClass(\"fa-square-o\");\n            e.find(\".fa-square-o\").removeClass(\"fa-check-square-o\");\n        }else{\n            //add active class\n            e.addClass(\"active\");\n            //and check checkbox\n            e.find(\".fa-square-o\").addClass(\"fa-check-square-o\");\n            e.find(\".fa-check-square-o\").removeClass(\"fa-square-o\");\n        }\n    };\n\n    /**\n     * Sets up event listeners.\n     * @return void\n     */\n    var _registerDeleteButtons = function() {\n        //set event listners for template options\n        $('div[data-role=\"delete_button\"]').bind('click', function() { _deleteConfirmation($(this)); } );\n    };\n\n     /**\n     * Initiate ajax call to get enrollment info\n     * to create modal with choices\n     */\n    var _getEnrolInfo = function() {\n\n        _element = $(this);\n        _semester = _element.attr('id');\n\n        // return if required values aren't set\n        if (!_course.id) {\n            return;\n        }\n        // set args\n        var args = {\n            courseid: _course.id,\n            semester: _semester\n        };\n\n        // set ajax call\n        var ajaxCall = {\n            methodname: 'theme_urcourses_default_header_enrollment_info',\n            args: args\n        };\n\n        // initiate ajax call\n        var promise = ajax.call([ajaxCall]);\n        promise[0].done(function(response) {\n            _populateModal(response);\n        });\n    };\n\n    /**\n     * Handles ajax return and response to create modal with options\n     * @param {Object} response\n     */\n    var _populateModal = function(data) {\n\n        // create modal with current selection as header\n        var modaltitle = 'Modify enrolment for '+data.semester;\n        var activatedlist = \"\";\n        var activatedtitle = \"\";\n        var isavailable = data.isavaliable;\n\n        templatelist = '<div class=\"form-control-feedback invalid-feedback\" id=\"error_course_tools_section\">'\n                        +'</div> <div data-role=\"templateholder\" class = \"list-group\" >';\n        //check if any data exists\n        if(data.courseinfo.length !=0){\n            //special selecting box\n            $.each( data.courseinfo, function( key, value ) {\n                templatelist += '<div data-role = \"bannerselect\" class=\"tmpl-label '+\n                                ' list-group-item list-group-item-action \" id = '+value.crn+'>'+\n                                '<h6><i class=\"fa fa-square-o\" aria-hidden=\"true\"></i>  '+\n                                value.subject + ' ' +value.course + '-' + value.section +' ('+value.crn+')</h6>'+\n                                '</div>';\n            });\n            //add group division checkbox\n            templatelist += '<br><div class=\"form-check ml-3\">'\n                        +'<input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"course_tools_groups\">'\n                        +'<label class=\"form-check-label\" for=\"course_tools_groups\">'\n                        +'<h6> Create groups for each section </h6>'\n                        +' </label>'\n                        +' </div>';\n        }else{\n            // else not error message\n            //add default template option even if there is no template category\n            templatelist += '<div data-role = \"templateselect\" class=\"tmpl-label '+\n                'list-group-item list-group-item-action\" id = \"0\" >'+\n                '<p>There are no additional sections available at this time </p>'+\n                '</div>';\n        }\n\n        //For banner sections already enrolled in current semester\n        if(data.activated.length !=0){\n            activatedtitle = '<label class=\"col-form-label d-inline\"><b> Current enrolments:  </b></label></br>';\n            activatedlist += '<div class=\"list-group\">';\n            $.each( data.activated, function( key, value ) {\n                var linkedClass = \"alert-warning\";\n                if(value.linked){\n                    linkedClass = \"alert-success\";\n                }\n\n                if(value.linked != 1){\n                    activatedlist +='<div data-role=\"delete_button\" data-fullname =\"'+\n                                    value.fullname+'\" id=\"delete_'+value.crn+'_'+value.urid+\n                                    '\" class=\"list-group-item list-group-item-secondary enrollment-delete '+linkedClass+' \">'+\n                                    '<h6 class =\"ml-3 d-inline\">'+value.subject + ' ' +\n                                    value.course + '-' + value.section+' ('+value.crn+')'+\n                                    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'+\n                                    '<span aria-hidden=\"true\">&times;</span>'+\n                                    '</button></h6>'+\n                                    '</div>';\n                }else{\n                    activatedlist +='<div data-fullname =\"'+\n                        value.fullname+'\" id=\"delete_'+value.crn+'_'+value.urid+\n                        '\" class=\"list-group-item list-group-item-secondary enrollment-delete '+linkedClass+' \">'+\n                        '<h6 class =\"ml-3 d-inline\">'+value.subject + ' ' +\n                        value.course + '-' + value.section+' ('+value.crn+')'+\n                        '</h6>'+\n                        '</div>';\n                }\n            });\n                activatedlist += '</div><br>';\n        }\n        templatelist += '</div>';\n\n        //var inSemester = false; //change to true if want to block current semester enrollment\n       /* jQuery.each(_semesterdates, function(index, item) {\n            if(index == _semester){\n                starttemp = item.startdate.split(\"-\")\n                start = new Date(starttemp[2]+\"-\"+starttemp[1]+\"-\"+starttemp[0] );\n                var current = new Date();\n                if(current.getTime() < start.getTime() ){\n                    inSemester=false;\n                }\n            }\n        });*/\n        var pastSemester = false;\n        if(_semester < _currentsem){\n            pastSemester = true;\n        }\n\n        if(/*inSemester*/ pastSemester){\n            // create modal with current selection as header\n            var modaltitle = 'Modify enrolment';\n            var templatelist = '<div data-role = \"templateselect\" class=\"tmpl-label '+\n            'list-group-item list-group-item-action\" id = \"0\" >'+\n            '<p>This is a past semester. Enrolment can not be modified. </p>'+\n            '</div><br>';\n\n            //For banner sections already enrolled in current semester\n            if(data.activated.length !=0){\n                activatedlist = \"\";\n                activatedlist += '<div class=\"list-group\">';\n                $.each( data.activated, function( key, value ) {\n                    var linkedClass = \"alert-warning\";\n                    if(value.linked){\n                        linkedClass = \"alert-success\";\n                    }\n\n                    activatedlist +='<div class=\"list-group-item list-group-item-secondary '+linkedClass+' \">'+\n                                    '<h6 class =\"ml-3 d-inline\">'+value.subject + ' ' +value.course + '-' + value.section +'</h6>'+\n                                    '</div>';\n                    });\n                    activatedlist += '</div><br>';\n            }\n\n            //adding in confirmation modal in case buttons accidentally clicked\n            ModalFactory.create({\n                type: ModalFactory.types.CANCEL,\n                title: modaltitle,\n                body: templatelist+activatedtitle+activatedlist,\n            }).then(function(modal) {\n\n                modal.footer.prepend('<a type=\"button\" class=\"btn btn-primary justify-content-start mr-auto p-2\" href=\"'\n                                    +_homeurl+'/blocks/urcourserequest?semester='+_semester +'\">My enrolment overview</a>');\n                modal.show();\n            });\n        }else{\n            //adding in confirmation modal in case buttons accidentally clicked\n            ModalFactory.create({\n                type: (data.courseinfo.length != 0) ? ModalFactory.types.SAVE_CANCEL :ModalFactory.types.CANCEL,\n                title: modaltitle,\n                body: ((isavailable) ? '<label class=\"col-form-label d-inline\"><b> Available enrolments:  </b></label></br>'\n                        + templatelist\n                        +\"</br>\"\n                        + activatedtitle\n                        + activatedlist  : \"\"),\n            }).then(function(modal) {\n\n                modal.footer.prepend('<a type=\"button\" class=\"btn btn-primary justify-content-start mr-auto p-2\" href=\"'\n                                    +_homeurl+'/blocks/urcourserequest?semester='+_semester +'\">My enrolment overview</a>');\n\n                if(isavailable && data.courseinfo.length != 0){\n                    modal.setSaveButtonText('Save');\n                    var root = modal.getRoot();\n                    root.on(ModalEvents.cancel, function(){\n                        return;\n                    });\n\n                    root.on(ModalEvents.save, function(e){\n\n                        var templateHolder = $('div[data-role=\"templateholder\"');\n                        var selectedTemplates = $(templateHolder).find('.active');\n                        //no selected template error\n                        if(selectedTemplates.length <=0){\n                            e.preventDefault();\n                            $(\"#error_course_tools_section\").text(\"Please select a section\");\n                            $(\"#error_course_tools_section\").attr(\"display\", \"block\");\n                            $(\"#error_course_tools_section\").show();\n                        }else{\n                            var templateids = [];\n                            for(var i = 0; i<selectedTemplates.length; i++){\n                                templateids.push( {\"crn\": $(selectedTemplates[i]).attr('id')});\n                            }\n                            var groupcheck = $(\"#course_tools_groups\").prop(\"checked\");\n                            _addEnrolmentDateConfirm(data, templateids, groupcheck);\n                        }\n                    });\n                }else{\n                    var root = modal.getRoot();\n                    root.on(ModalEvents.cancel, function(){\n                        return;\n                    });\n                }\n                //remove modal on hide\n                root.on(ModalEvents.hidden, function(){\n                    //remove inputs otherwise duplicates are made causing id problems\n                    $( \"div[data-role='templateholder']\" ).remove();\n                });\n                modal.show();\n            }).done(function() {\n\n                if(isavailable){\n                    if(data.courseinfo.length>0 ){\n                        _registerSelectorEventListeners(_element);\n                    }else{\n                        $('button[data-action=\"cancel\"]').text(\"Close\");\n                    }\n                }\n                if(data.activated.length !=0){\n                    _registerDeleteButtons();\n                }\n            });\n        }\n    };\n\n    /**\n     * Handles ajax return and response to create modal with options\n     * @param {Object} response\n     */\n    var _addEnrolmentDateConfirm = async function(data, templateids,groupcheck) {\n\n\n        var nextyear = (new Date()).getFullYear()+1;\n        var newstart = (new Date()).getMonth()+' '+(new Date()).getDate()+', '+(new Date()).getFullYear();\n        var newend = (new Date()).getMonth()+' '+(new Date()).getDate()+', '+nextyear;\n        var formatednewstart =\"\";\n\n        $.each(_semesterdates, function(index, item) {\n            if(index == _semester){\n                var starttemp = item.startdate.split(\"-\");\n                var endtemp = item.enddate.split(\"-\");\n\n                newstart = parseInt(starttemp[1],10)+\" \"+starttemp[0]+\", \" +starttemp[2];\n                newend = parseInt(endtemp[1],10)+\" \"+endtemp[0]+\", \" +endtemp[2];\n                var d = new Date(starttemp[2],starttemp[1]-1,starttemp[0]);\n                formatednewstart = d.toLocaleString('default', { month: 'short' })+\" \"+starttemp[0]+\", \" +starttemp[2];\n            }\n        });\n\n        var startdate = _course.startdate.mon+' '+_course.startdate.mday+\", \"+_course.startdate.year;\n        var enddate = _course.enddate.mon+' '+_course.enddate.mday+\", \"+_course.enddate.year;\n\n        if( startdate == newstart && enddate == newend){\n            _addEnrolment(templateids,groupcheck,true);\n        }else{\n\n            // create modal with current selection as header\n            var modaltitle = 'Would you like to change course dates?';\n            var template =  await self.render(TEMPLATES.MODAL_COURSE_ACTION_CONTENT);\n            var startdate = _course.startdate.month+' '+_course.startdate.mday+\", \"+_course.startdate.year;\n            var enddate = _course.enddate.month+' '+_course.enddate.mday+\", \"+_course.enddate.year;\n\n            //adding in confirmation modal in case buttons accidentally clicked\n            ModalFactory.create({\n                type: ModalFactory.types.SAVE_CANCEL,\n                title: modaltitle,\n                body: (\"<p><b>Current Course Dates:<br/></b><div class='alert alert-warning' role='alert'>\"\n                        +((_course.enddate.year < _course.startdate.year) ? \"Start Date: \"+startdate+\n                            \"<br> End Date: No endate set\" :startdate+ \" until \"+enddate)\n                        +\"</div>\"\n                        +((formatednewstart==\"\") ? \"\":\"The \"+data.semester+\" term will begin \"+formatednewstart+\"<br/><br/>\")\n                        +template ),\n                backdrop: 'static',\n                keyboard: false,\n                dismissible:false\n\n            }).then(function(modal) {\n\n                modal.setSaveButtonText('Update');\n\n                var root = modal.getRoot();\n                root.on(ModalEvents.cancel, function(){\n                    _addEnrolment(templateids,groupcheck,true);\n                });\n\n                root.on(ModalEvents.save, function(e){\n                    if(!validate()){\n                        e.preventDefault();\n                    }else{\n                        _addEnrolment(templateids,groupcheck, false);\n                    }\n                });\n\n                modal.show();\n\n                var modaltemp = modal.modal;\n                $(modaltemp).find(\".close\").attr(\"id\",\"closemodal\");\n                $(\"#closemodal\").bind('click', function() { _closeDateConfirm($(this), modal); } );\n                $(modaltemp).find(\".close\").addClass( \"dateconfirm\" );\n                $(root).click(function(e) {\n                    if(!$(e.target).is(\"button\") && !$(e.target).parent().is(\"button\")){\n                        e.preventDefault();\n                        modal.show();\n                    }else{\n                        $( SELECTORS.ENDHOLDER).remove();\n                        $( SELECTORS.STARTHOLDER).remove();\n                        $( SELECTORS.ERR_START).remove();\n                        $( SELECTORS.ERR_END).remove();\n                        modal.hide();\n                    }\n                });\n            }).done(function() {\n\n                var startdatefill = {\"year\": (new Date()).getFullYear(),\n                                    \"mon\": (new Date()).getMonth(),\"mday\":(new Date()).getDate()};\n                var enddatefill = {\"year\": (new Date()).getFullYear() +1,\n                                    \"mon\": (new Date()).getMonth(),\"mday\":(new Date()).getDate()};\n\n                $.each(_semesterdates, function(index, item) {\n                    if(index == _semester){\n                        var starttemp = item.startdate.split(\"-\");\n                        var endtemp = item.enddate.split(\"-\");\n\n                        startdatefill = {\"year\": starttemp[2], \"mon\": starttemp[1],\"mday\":starttemp[0]};\n                        enddatefill = {\"year\": endtemp[2], \"mon\": endtemp[1],\"mday\":endtemp[0]};\n                    }\n                });\n\n                $('button[data-action=\"cancel\"]').text(\"Continue without updating\");\n                //add numbers to date selectors\n                courseActionsLib.populateDateSelects(startdatefill,enddatefill);\n                courseActionsLib.registerDateEventListeners(_element);\n\n            });\n        }\n    };\n\n    var _closeDateConfirm = function(e, modal){\n\n        $( SELECTORS.ENDHOLDER).remove();\n        $( SELECTORS.STARTHOLDER).remove();\n        $( SELECTORS.ERR_START).remove();\n        $( SELECTORS.ERR_END).remove();\n        modal.hide();\n    };\n    /**\n     * For Enrolemnt date selectors\n     * Check if dates are valid\n     * Return bool\n     */\n    var validate = function() {\n\n        var startday = $(SELECTORS.STARTDAY).val();\n        var startmonth = $(SELECTORS.STARTMONTH).val();\n        var startyear = $(SELECTORS.STARTYEAR).val();\n        var endyear = $(SELECTORS.ENDYEAR).val();\n        var endday = $(SELECTORS.ENDDAY).val();\n        var endmonth = $(SELECTORS.ENDMONTH).val();\n        var test =true;\n        var startdate = new Date(startyear+\".\"+startmonth+\".\"+startday).getTime()/1000;\n        var enddate = new Date(endyear+\".\"+endmonth+\".\"+endday).getTime()/1000;\n\n        if(enddate < startdate && $(SELECTORS.ENDENABLE).is(\":checked\") ){\n            $(SELECTORS.ERR_START).text(\"Course end date can not be before start date\");\n            $(SELECTORS.ERR_START).attr(\"display\", \"block\");\n            $(SELECTORS.ERR_START).show();\n            test = false;\n        }else{\n            $(SELECTORS.ERR_START).text(\"\");\n            $(SELECTORS.ERR_END).text(\"\");\n        }\n\n        return test;\n    };\n\n    /**\n     * After modal info has been entered call ajax request\n     */\n    var _addEnrolment = function(templateids, groupcheck, isoriginal) {\n\n        // return if required values aren't set\n        if (!_course.id) {\n            return;\n        }\n\n        if(isoriginal){\n            var startdate = _course.startdate.mday+\"-\"+_course.startdate.mon\n                            +\"-\"+_course.startdate.year+\"-\"+_course.startdate.hours+\"-\"+_course.startdate.minutes;\n            var enddate = _course.enddate.mday+\"-\"+_course.enddate.mon+\"-\"\n                            +_course.enddate.year+\"-\"+_course.enddate.hours+\"-\"+_course.enddate.minutes;\n        }else{\n            var startday = $(SELECTORS.STARTDAY).val();\n            var startmonth = $(SELECTORS.STARTMONTH).val();\n            var startyear = $(SELECTORS.STARTYEAR).val();\n            var starthour = $(SELECTORS.STARTHOUR).val();\n            var startminute = $(SELECTORS.STARTMINUTE).val();\n            var startdate = startday+\"-\"+startmonth+\"-\"+startyear+\"-\"+starthour+\"-\"+startminute;\n\n            var enddate = \"0\";\n            if($(SELECTORS.ENDENABLE).is(\":checked\") ){\n                var endday = $(SELECTORS.ENDDAY).val();\n                var endmonth= $(SELECTORS.ENDMONTH).val();\n                var endyear = $(SELECTORS.ENDYEAR).val();\n                var endhour = $(SELECTORS.ENDHOUR).val();\n                var endminute = $(SELECTORS.ENDMINUTE).val();\n                enddate = endday+\"-\"+endmonth+\"-\"+endyear+\"-\"+endhour+\"-\"+endminute;\n            }\n        }\n        if(groupcheck == \"\" || groupcheck == false){\n            groupcheck = 0;\n        }else{\n            groupcheck = 1;\n        }\n\n        // set args\n        var args = {\n            courseid: _course.id,\n            semester: _semester,\n            crns: templateids,\n            groupcheck: groupcheck,\n            startdate: startdate,\n            enddate: enddate,\n            isoriginal: isoriginal,\n        };\n\n        // set ajax call\n        var ajaxCall = {\n            methodname: 'theme_urcourses_default_header_activate_course',\n            args: args,\n            fail: notification.exception\n        };\n\n        // initiate ajax call\n        var promise = ajax.call([ajaxCall]);\n        promise[0].done(function(response) {\n\n            var title= \"ERROR:\";\n            var info = '<div class=\"alert alert-warning\" role=\"alert\">'+response.result+'<br></div>';\n            if(response.result!=\"\"){\n                title = \"Enrolment assigned successfully\";\n                info = '<div class=\"alert alert-success\" role=\"alert\">'+response.result+'<br></div>';\n            }\n\n            ModalFactory.create({\n                type: ModalFactory.types.CANCEL,\n                title: title,\n                body: info,\n            }).then(function(modal) {\n                modal.show();\n                var root = modal.getRoot();\n                $('button[data-action=\"cancel\"]').text(\"Close\");\n                 //remove modal on hide\n                 root.on(ModalEvents.hidden, function(){\n                    location.reload();\n                 });\n            });\n        });\n    };\n\n     /**\n     * If delete button has been clicked for an\n     * activated banner enrollment, call an ajax\n     * request to remove the selected enrolment\n     */\n    var _deleteConfirmation = function(element) {\n\n        var fullname = element.data( \"fullname\" );\n\n        ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: \"Delete Enrolment\",\n            body: \"<p><b>Are you sure you want to delete enrolment for \"+fullname+\"?</b><br />\",\n        }).then(function(modal) {\n\n            modal.setSaveButtonText('Delete');\n            var root = modal.getRoot();\n            root.on(ModalEvents.cancel, function(){\n                return;\n            });\n            root.on(ModalEvents.save, function(){\n                _deleteEnrollment(element);\n            });\n            modal.show();\n        });\n    };\n\n    /**\n     * If delete button has been clicked for an\n     * activated banner enrollment, call an ajax\n     * request to remove the selected enrolment\n     */\n    var _deleteEnrollment = function(e) {\n\n        var crn = e.attr('id').split(\"_\");\n\n        // set args\n        var args = {\n            courseid:crn[2],\n            semester: _semester,\n            crn: crn[1],\n        };\n\n        // set ajax call\n        var ajaxCall = {\n            methodname: 'theme_urcourses_default_header_delete_enrollment',\n            args: args,\n            fail: notification.exception\n        };\n\n        // initiate ajax call\n        var promise = ajax.call([ajaxCall]);\n        promise[0].done(function(response) {\n            //close previous modal\n            $( 'button[data-action=\"cancel\"] ').trigger( \"click\" );\n\n            var title= \"ERROR:\";\n            var info = '<div class=\"alert alert-warning\" role=\"alert\">'+response.result+'<br></div>';\n            if(response.result!=\"\"){\n                title = \"Successfully Removed Enrolment\";\n                info = '<div class=\"alert alert-success\" role=\"alert\">'+response.result+'<br></div>';\n            }\n\n            ModalFactory.create({\n                type: ModalFactory.types.CANCEL,\n                title: title,\n                body: info,\n            }).then(function(modal) {\n                modal.show();\n                var root = modal.getRoot();\n                //remove modal on hide\n                root.on(ModalEvents.hidden, function(){\n                    location.reload();\n                 });\n                $('button[data-action=\"cancel\"]').text(\"Close\");\n            });\n        });\n    };\n\n    /**\n     * Use passed course dates to find out current\n     * semester\n     */\n    var _semesterDateObject = function(item) {\n\n        var temp = item.split(\"-\");\n        return new Date(temp[2]+\"-\"+temp[1]+\"-\"+temp[0]);\n    };\n\n    /**\n     * Use passed course dates to find out current\n     * semester\n     */\n    var _getCurrentSem = function(semesterdates) {\n\n        var current = new Date();\n        var cterm = \"\";\n        $.each(semesterdates, function(index, item) {\n\n            var start =_semesterDateObject(item.startdate);\n            var end =_semesterDateObject(item.enddate);\n\n            if(current >= start && current <= end){\n                cterm = index;\n                return index;\n            }\n        });\n        return cterm;\n    };\n    /**\n     * Entry point to module. Sets globals and registers event listeners.\n     * @param {String} root Jquery selector for container.\n     * @return void\n     */\n    var init = function(root, course, semesterdates,categories, templatelist, homeurl) {\n        var currentsem = _getCurrentSem(semesterdates);\n        _setGlobals(root, course, semesterdates,categories,templatelist, homeurl,currentsem);\n        _registerEventListeners();\n    };\n\n    return {\n        init: init\n    };\n});"],"file":"course_enrolment.min.js"}