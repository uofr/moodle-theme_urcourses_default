define("theme_urcourses_default/course_style_chooser",["jquery","core/ajax","core/notification","core/str","core/modal_factory","core/modal_events"],(function($,ajax,notification,str,ModalFactory,ModalEvents){var _root,_courseid,_headerstyle,_element,SELECTORS_HEADER_TOP="#page-header .page-head",SELECTORS_HDRSTYLEA_BTN="#hdr_chooser_a",SELECTORS_HDRSTYLEB_BTN="#hdr_chooser_b",_chooseStyle=function(){_element=$(this),ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:"Change Course Header Style",body:"<p><b>Are you sure you want to change the course header style?</b><br />Confirmation is required to ensure the course header style isn't changed accidentally.</p>"}).then((function(modal){modal.setSaveButtonText("Change");var root=modal.getRoot();root.on(ModalEvents.cancel,(function(){})),root.on(ModalEvents.save,_styleChange),modal.show()}))},_styleChange=function(){if("#"+_element.attr("id")==SELECTORS_HDRSTYLEB_BTN?(_headerstyle=1,$(SELECTORS_HDRSTYLEA_BTN).removeClass("btn-success"),$(SELECTORS_HDRSTYLEA_BTN).prop("disabled",!1),$(SELECTORS_HDRSTYLEB_BTN).addClass("btn-success"),$(SELECTORS_HDRSTYLEB_BTN).prop("disabled",!0),$("#hdr_chooser_a_div").addClass("d-none"),$("#hdr_chooser_b_div").removeClass("style-a"),$("#header_a_head").attr("id","header_b_head")):(_headerstyle=0,$(SELECTORS_HDRSTYLEB_BTN).removeClass("btn-success"),$(SELECTORS_HDRSTYLEB_BTN).prop("disabled",!1),$(SELECTORS_HDRSTYLEA_BTN).addClass("btn-success"),$(SELECTORS_HDRSTYLEA_BTN).prop("disabled",!0),$("#hdr_chooser_a_div").removeClass("d-none"),$("#hdr_chooser_b_div").addClass("style-a"),$("#header_b_head").attr("id","header_a_head")),_courseid){var ajaxCall={methodname:"theme_urcourses_default_header_choose_style",args:{courseid:_courseid,headerstyle:_headerstyle},done:_choiceDone,fail:notification.exception};ajax.call([ajaxCall])}},_choiceDone=function(){str.get_string("success:coursestylechosen","theme_urcourses_default").done(_createSuccessPopup)},_createSuccessPopup=function(text){var popup=$("<div></div>");popup.text(text),popup.prop("id","cstyle_success_popup"),popup.css({position:"absolute"}),popup.css({right:"5px"}),popup.css({bottom:"30px"}),popup.css({"z-index":"1200"}),popup.addClass("alert alert-success alert-dismissable fade show");var dismissBtn=$("<button></button>");dismissBtn.html("&times;"),dismissBtn.addClass("close"),dismissBtn.attr("type","button"),dismissBtn.attr("data-dismiss","alert"),popup.append(dismissBtn),$(SELECTORS_HEADER_TOP).append(popup),setTimeout((function(){$("#cstyle_success_popup").fadeTo(500,0).slideUp(500,(function(){$(this).remove()}))}),1800)};return{init:function(root,courseid,headerstyle){!function(root,courseid,headerstyle){_root=$(root),_courseid=courseid,_headerstyle=headerstyle}(root,courseid,headerstyle),_root.on("click",SELECTORS_HDRSTYLEA_BTN,_chooseStyle),_root.on("click",SELECTORS_HDRSTYLEB_BTN,_chooseStyle)}}}));

//# sourceMappingURL=course_style_chooser.min.js.map