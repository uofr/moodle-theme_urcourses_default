{"version":3,"file":"lightboxes.min.js","sources":["../src/lightboxes.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Theme Boost Campus - JS code back to top button\n *\n * @package    theme_urcourses_default\n * @copyright  2017 Kathrin Osswald, Ulm University <kathrin.osswald@uni-ulm.de>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    \"use strict\";\n\n    /**\n     * Initialising.\n     */\n    function initLightBoxes() {\n\t\t$('a[rel=\"lightbox\"]').each(function() {\n\t\t\t$(this).attr('data-toggle','modal');\n\t\t\t$(this).attr('data-target','#lightboxmodal');\n\t\t\t$(this).click(function() {\n\t\t\t\t$('#lbimg').attr('src',$(this).children('img').eq(0).attr('src'));\n\t\t\t\t$('#lbimgcap').html($(this).attr('title'));\n\t\t\t\t$('#lbdialog').css('max-width', ($('#lbimg').width() + 34)+' px');\n\t\t\t});\n\t\t});\n    }\n\n    return {\n        init: function() {\n\t\t\t// do we have links to lightbox?\n\t\t\tif ($('a[rel=\"lightbox\"]').length > 0) {\n\t\t\t\t// does a modal already exist?\n\t\t\t\tif (!$('#lightboxmodal').length > 0) {\n\t\t\t\t\t// it does not exist,create it\n\n\t\t\t\t\tvar modalmarkup = '<!-- Modal -->';\n\t\t\t\t\tmodalmarkup += '<div class=\"modal fade\" id=\"lightboxmodal\" role=\"dialog\">';\n\t\t\t\t\tmodalmarkup += '<div class=\"modal-dialog\" id=\"lbdialog\">';\n\t\t\t\t\tmodalmarkup += '  <!-- Modal content-->';\n\t\t\t\t\tmodalmarkup += '    <div class=\"modal-content\">';\n\t\t\t\t\tmodalmarkup += '      <div class=\"modal-header\">';\n\t\t\t\t\tmodalmarkup += '        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>';\n\t\t\t\t\tmodalmarkup += '        <!--<h4 class=\"modal-title\">Modal Header</h4>-->';\n\t\t\t\t\tmodalmarkup += '      </div>';\n\t\t\t\t\tmodalmarkup += '      <div class=\"modal-body\">';\n\t\t\t\t\tmodalmarkup += '        <figure class=\"figure\"><img id=\"lbimg\" class=\"img-fluid\" src=\"\" />';\n\t\t\t\t\tmodalmarkup += '        <figcaption id=\"lbimgcap\" class=\"figure-caption mt-2\"></figcaption>';\n\t\t\t\t\tmodalmarkup += '      </div>';\n\t\t\t\t\tmodalmarkup += '      <div class=\"modal-footer\">';\n\t\t\t\t\tmodalmarkup += '        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>';\n\t\t\t\t\tmodalmarkup += '      </div>';\n\t\t\t\t\tmodalmarkup += '    </div>';\n\t\t\t\t\tmodalmarkup += ' </div>';\n\t\t\t\t\tmodalmarkup += '</div>';\n\n\t\t\t\t\t$(\"body\").append(modalmarkup);\n\t\t\t\t}\n\t\t\t\tinitLightBoxes();\n\n\t\t\t\t$('#lightboxmodal').on('show.bs.modal', function () {\n\t\t\t\t\t$(this).find('.modal-body').css({\n\t\t\t\t\t\twidth:'auto', //probably not needed\n\t\t\t\t\t\theight:'auto', //probably not needed\n\t\t\t\t\t\t'max-height':'100%'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n});"],"names":["define","$","init","length","append","modalmarkup","each","this","attr","click","children","eq","html","css","width","on","find","height"],"mappings":";;;;;;;AAuBAA,4CAAO,CAAC,WAAW,SAASC,GAkBjB,MAAA,CACHC,KAAM,WAEPD,GAAAA,EAAE,qBAAqBE,OAAS,EAAG,CAElC,IAACF,EAAE,kBAAkBE,OAAS,EAAG,CAIrB,4DACA,2CACA,gCACA,kCACA,mCACA,oFACA,iEACA,eACA,iCACA,6EACA,8EACA,eACA,mCACA,4FACA,eACA,aACA,UACA,SAEfF,EAAE,QAAQG,OAFVC,2sBArCHJ,EAAE,qBAAqBK,MAAK,WAC3BL,EAAEM,MAAMC,KAAK,cAAc,SAC3BP,EAAEM,MAAMC,KAAK,cAAc,kBAC3BP,EAAEM,MAAME,OAAM,WACbR,EAAE,UAAUO,KAAK,MAAMP,EAAEM,MAAMG,SAAS,OAAOC,GAAG,GAAGH,KAAK,QAC1DP,EAAE,aAAaW,KAAKX,EAAEM,MAAMC,KAAK,UACjCP,EAAE,aAAaY,IAAI,YAAcZ,EAAE,UAAUa,QAAU,GAAI,aAqC3Db,EAAE,kBAAkBc,GAAG,iBAAiB,WACvCd,EAAEM,MAAMS,KAAK,eAAeH,IAAI,CAC/BC,MAAM,OACNG,OAAO,OACM,aAAA"}